<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="https://genesistoxical.com/wp-content/uploads/2023/02/Corazon_png_vector.png">
    <title>Invitaci√≥n Boda</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Font Awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Delius&family=Pacifico&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../css/templates.css">
    <script src="../js/require.js"></script>
    <style>
      /* #region ROOT*/
      :root {
        --main-bg: linear-gradient(135deg, #fff6fc 0%, #f2f8ff 100%);
        --glass-blur: 14px;
        --font-Primary: 'Delius';
        --color_Primary: #b07fcb;
        --color_Secondary: #81b8df;
        --color_Tertiary: #f9a5b7;
        --filter-AudioButton: 1deg;
        --timeline-bg: #fffafd;
      }

      /* #endregion ROOT*/
      /* #region HTML*/
      body {
        background: var(--main-bg);
        font-family: var(--font-Primary);
        margin: 0;
        min-height: 100vh;
      }

      /* #endregion HTML*/
      /* #region Animations*/
      @keyframes heroTitle {
        0% {opacity:0; transform:translate(-50%,30px);}
        100%{opacity:1; transform:translate(-50%,-50%);}
      }

      @keyframes fadein { from { opacity: 0; transform: translateY(30px);} to { opacity:1; transform: none; } }

      /* #endregion Animations*/
      /* #region General*/
      .hero-novios {
        position: relative;
        width: 100%;
        max-width: 580px;
        margin: 0 auto;
        overflow: hidden;
        margin-bottom: 0rem;
      }

      .hero-novios img {
        width: 100%;
        height: 100%;
        display: block;
        object-fit: cover; /* la imagen se adapta a la caja */
        filter: brightness(0.57) blur(0.1px);
      }

      .hero-title {
        position: absolute;
        top: 49%;
        left: 50%;
        transform: translate(-50%,-50%);
        color: #fff;
        text-shadow: 0 3px 14px #b07fcb60, 0 1px 7px #0008;
        font-size: 2.6rem;
        font-family: var(--font-Primary);
        letter-spacing: 2px;
        z-index: 2;
        text-align: center;
        line-height: 1.15;
        width: 92%;
        animation: heroTitle 1.4s both;
      }

      .invitation-container {
        max-width: 610px;
        border-radius: 26px;
        margin: 0 auto 2rem auto;
        padding: 0rem 1.1rem 2.2rem 1.1rem;
        position: relative;
        text-align: center;
      }

      .floral-header {
        width: 100px;
        margin: 0 auto 1.2rem auto;
        display: block;
        filter: drop-shadow(0 5px 18px #b07fcb28);
      }

      /* Couple */
      .couple-section {
        display: flex;
        align-items: flex-end;
        justify-content: center;
        gap: 2.1rem;
        flex-wrap: wrap;
        margin-bottom: 2.3rem;
      }

      .couple-card {
        backdrop-filter: blur(var(--glass-blur));
        border-radius: 18px;
        min-width: 135px;
        max-width: 220px;
        flex: 1 1 120px;
        text-align: center;
        position: relative;
        margin-bottom: 1.2rem;
        animation: fadein 1.1s;
      }

      .couple-photo {
        width: 220px;
        height: 220px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 0.7rem;
        border: 3px solid #e3caff;
        box-shadow: 0 2px 12px #b07fcb17;
        background: #fff;
      }

      .couple-name {
        font-family: var(--font-Primary);
        color: var(--color_Tertiary);
        font-size: 1.22rem;
        font-weight: 400;
        margin-bottom: 0.15rem;
        margin-top: 0;
      }

      .couple-desc {
        color: #a9a0b3;
        font-size: 1.02rem;
        margin-bottom: 0.2rem;
      }

      /* Parents */
      .parents-section {
        display: flex;
        justify-content: center;
        gap: 1.8rem;
        margin-bottom: 2.1rem;
        flex-wrap: wrap;
      }

      .parent-card {
        width: 95%;
        max-width: 420px;
        backdrop-filter: blur(var(--glass-blur));
        border-radius: 50%;
        padding: 1.1rem 1.2rem 1.2rem 1.2rem;
        text-align: center;
        animation: fadein 1.3s;
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.1rem;
        margin-bottom: 1.1rem;
      }

      .parent-photo-unique {
        width: 180px;
        height: 180px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 0.7rem;
        border: 3px solid #b07fcb77;
        box-shadow: 0 3px 13px #b07fcb22;
        background: #fff;
      }

      .parent-title {
        font-family: var(--font-Primary);
        color: var(--color_Tertiary);
        font-size: 1.10rem;
        margin-bottom: 0.12rem;
        margin-top: 0.5em;
      }

      .parent-names {
        color: var(--color_Tertiary);
        font-size: 1.02rem;
        margin-bottom: 0.05rem;
        line-height: 1.27;
      }

      /* Godparents */
      .godparents-section {
        margin: 2.5rem 0 2.1rem 0;
        text-align: center;
      }

      .section-title {
        font-family: var(--font-Primary);
        color: var(--color_Primary);
        font-size: 1.5rem;
        margin-bottom: 1.2rem;
        letter-spacing: 0.7px;
        text-align: center;
        background: linear-gradient(90deg, #b07fcb22 60%, #81b8df19 100%);
        padding: 0.6em 0;
        border-radius: 18px;
        font-weight: bold;
        text-shadow: 0 1px 13px #b07fcb13;
        animation: padrinosFade 1.6s both;
      }

      .godparents-list {
        display: flex;
        flex-direction: column;
        gap: 1.35rem;
        align-items: center;
        justify-content: center;
      }

      .godparent-card-cute {
        width: 99%;
        max-width: 420px;
        min-height: 100px;
        backdrop-filter: blur(17px);
        border-radius: 32px;
        box-shadow: 0 7px 22px #b07fcb17, 0 2px 8px #81b8df13;
        border: 3.2px solid #f9a5b7a0;
        display: flex;
        align-items: center;
        padding: 1.1rem 1.2rem;
        gap: 1.35rem;
        animation: fadein 0.9s;
        position: relative;
        transition: transform 0.19s, box-shadow 0.25s;
        overflow: hidden;
      }

      .godparent-card-cute:hover {
        box-shadow: 0 9px 30px #b07fcb48, 0 4px 13px #81b8df22;
        border-color: #b07fcbcc;
        background: rgba(255,255,255,0.95);
        z-index: 2;
      }

      .godparent-avatar {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        background: #fff;
        object-fit: cover;
        box-shadow: 0 5px 25px #f9a5b722, 0 1px 7px #81b8df17;
        border: 3px solid #b07fcb55;
        position: relative;
        flex-shrink: 0;
        margin-right: 0.4rem;
      }

      .godparent-details-cute {
        flex: 1;
        text-align: left;
      }

      .godparent-role-cute {
        color: var(--color_Secondary);
        font-size: 1.11rem;
        font-weight: bold;
        margin-bottom: 0.21em;
        letter-spacing: 0.6px;
        font-family: var(--font-Primary);
      }

      .godparent-names-cute {
        color: var(--color_Primary);
        font-size: 0.9rem;
        font-family: var(--font-Primary);
        letter-spacing: 1.2px;
        margin-bottom: 0.06rem;
        margin-top: 0;
        font-weight: 400;
      }

      .godparent-emoji {
        position: absolute;
        bottom: 2.5rem;
        right: 1.1rem;
        font-size: 2.15em;
        filter: drop-shadow(0 2px 6px #f9a5b7a2);
        pointer-events: none;
        opacity: 0.86;
        z-index: 3;
      }

      /* Timeline */
      .timeline-section {
        margin: 2.6rem 0 2rem 0;
        padding: 0 0.2rem;
        text-align: left;
      }
      .timeline {
        position: relative;
        margin-left: 38px;
        padding-left: 0px;
        min-height: 260px;
      }
      .timeline::before,
      .timeline-progress {
        content: '';
        position: absolute;
        left: 12px;
        width: 7px;
        border-radius: 3.5px;
      }
      .timeline::before {
        content: '';
        position: absolute;
        left: 12px;
        top: 18px;
        width: 7px; 
        height: calc(100% - 36px);
        background: linear-gradient(
          180deg,
          #f9c5d1 0%,
          #e0bbe4 50%,
          #c9f0ff 100%
        );
        border-radius: 3.5px;
        box-shadow: 0 0 8px rgba(232, 203, 225, 0.6); 
        z-index: 1;
      }
      .timeline-progress {
        content: '';
        position: absolute;
        left: 12px;
        top: 18px;
        width: 7px;
        background: linear-gradient(
          180deg,
          rgba(249, 197, 209, 0.9) 0%,
          rgba(224, 187, 228, 0.9) 60%,
          rgba(201, 240, 255, 0.9) 100%
        );
        box-shadow: 0 0 6px rgba(224, 187, 228, 0.6);
        border-radius: 3.5px;
        z-index: 2;
        transition: height 0.38s cubic-bezier(.62,1.17,.53,1.04);
        pointer-events: none;
      }
      .timeline-event {
        position: relative;
        margin-bottom: 44px;
        opacity: 0;
        transform: translateY(56px) scale(0.96);
        transition: all 0.65s cubic-bezier(.46,1.48,.56,1);
        z-index: 2;
        display: flex;
        align-items: flex-start;
        min-height: 66px;
        padding-top: 0;
        padding-bottom: 2px;
      }
      .timeline-event:last-child { margin-bottom: 0; }
      .timeline-event.visible {
        opacity: 1;
        transform: translateY(0) scale(1.0);
      }
      .timeline-dot {
        position: absolute;
        left: 0;
        top: 0;
        width: 31px;
        height: 31px;
        background: #f0edfc;
        border: 4px solid #f9a5b7;
        border-radius: 50%;
        z-index: 3;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: border-color 0.4s, background 0.4s, box-shadow 0.33s;
      }
      .timeline-event.active .timeline-dot {
        border-color: #81b8df;
        background: #f0edfc;
        box-shadow: 0 0 0 8px #b07fcb26, 0 3px 18px #b07fcb18;
      }
      .timeline-event.visible .timeline-dot {
        border-color: #b07fcb;
      }
      .timeline-dot svg {
        width: 17px; height: 17px; display: block;
      }
      .timeline-event-content {
        margin-left: 46px;
        flex: 1;
        background: #fff6fcdd;
        border-radius: 10px;
        padding: 10px 16px 6px 16px;
        box-shadow: 0 1px 11px #b07fcb17;
        transition: box-shadow 0.18s;
        border: 1.7px solid #f9a5b73b;
        position: relative;
      }
      .timeline-event.active .timeline-event-content {
        border: 1.7px solid #81b8df;
        box-shadow: 0 3px 24px #81b8df25;
      }
      .timeline-time {
        font-family: var(--font-Primary);
        font-size: 1.05rem;
        color: var(--color_Primary);
        font-weight: 700;
        margin-bottom: 2px;
        margin-left: 3px;
        letter-spacing: 1px;
      }
      .timeline-desc {
        color: #965a8d;
        font-size: 1.01rem;
        font-weight: 400;
        margin-left: 3px;
        margin-bottom: 0;
      }

      /* Gallery Instagram */
      .gallery-section {
        margin: 2.8rem 0 2.1rem 0;
        padding: 0;
      }
      .stories-gallery {
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
        width: 100%;
        max-width: 340px;
        margin: 0 auto;
      }
      .stories-progress {
        width: 100%;
        height: 6px;
        display: flex;
        gap: 5px;
        margin-bottom: 0.7em;
        position: relative;
        z-index: 5;
      }
      .stories-progress-bar {
        flex: 1;
        background: #e3caff;
        border-radius: 5px;
        overflow: hidden;
        position: relative;
        height: 100%;
      }
      .stories-progress-bar-fill {
        background: linear-gradient(90deg, #b07fcb, #81b8df 70%);
        height: 100%;
        width: 0%;
        transition: width 0.21s;
      }
      .stories-photo-frame {
        background: #fff;
        border-radius: 22px;
        box-shadow: 0 5px 32px #b07fcb22, 0 1px 9px #f9a5b720;
        padding: 0.5em 0.5em 2em 0.5em;
        width: 100%;
        max-width: 320px;
        min-height: 430px;
        aspect-ratio: 4/5;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-end;
        position: relative;
        cursor: pointer;
        user-select: none;
        overflow: hidden;
        transition: box-shadow 0.18s, transform 0.16s;
      }
      .stories-photo-frame:hover {
        box-shadow: 0 9px 40px #b07fcb44, 0 5px 20px #f9a5b739;
      }
      .stories-photo-frame img {
        width: 99%;
        height: 89%;
        object-fit: cover;
        border-radius: 15px;
        box-shadow: 0 2px 16px #81b8df17;
        background: #faf7fc;
        display: block;
        margin-top: 6px;
      }
      .stories-caption {
        font-family: var(--font-Primary);
        color: #b07fcb;
        font-size: 1rem;
        letter-spacing: 0.4px;
        background: linear-gradient(90deg, #b07fcb44 70%, #f9a5b7 100%);
        border-radius: 13px;
        padding: 0.22em 0.5em;
        margin-top: 1.1em;
        text-align: center;
        box-shadow: 0 2px 10px #b07fcb14;
        position: relative;
        bottom: 0.2em;
        opacity: 0.97;
      }

      /* #endregion General*/
      /* #region Audio*/
      ._template-Audio-Button.on {
        filter: hue-rotate(var(--filter-AudioButton)) !important;
      }

      ._template-Audio-Button.off {
        filter: hue-rotate(var(--filter-AudioButton)) !important;
      }

      /* #endregion Audio*/
      /* #region Counter*/
      ._template-Counter-Section ._counter-Timebox {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-size: 20px;
        color: var(--color_Primary);
        animation: none;
      }

      ._template-Counter-Section ._counter-Timebox span {
        height: auto;
      }

      @media (max-width: 575.98px) {
        ._template-Counter-Section ._counter-Timebox {
          font-size: 1rem;
        }

        ._template-Counter-Section ._counter-Timebox span{
          font-size: 2.5rem;
          height: auto;
        }
      }

      /* #endregion Counter*/
      /* #region Main Section*/
      @media (max-width: 767.98px) {
        .hero-title {
          font-size: 1.8rem;
          line-height: 1.2;
        }

        .timeline {
          margin-left: 20px;
        }

        .timeline::before,
        .timeline-progress {
          left: 8px;
          width: 5px;
          border-radius: 2.5px;
        }

        .timeline-event-content {
          margin-left: 36px;
          padding: 8px 12px;
          font-size: 0.95rem;
        }
      }

      @media (max-width: 575.98px) {
        .godparent-card-cute {
          flex-direction: column;
          align-items: center;
          padding: 1rem;
          gap: 0.8rem;
          text-align: center;
        }

        .godparent-details-cute {
          text-align: center;
        }

        .godparent-avatar {
          margin: 0 auto;
        }

        .parent-card {
          max-width: 100%;
          padding: 1rem;
        }

        .godparent-emoji {
          bottom: 6rem;
        }
      }

      @media (max-width: 375.98px) {
        .stories-photo-frame {
          max-width: 100%;
          aspect-ratio: 3/4;
          min-height: auto;
          padding-bottom: 1rem;
        }

        .stories-photo-frame img {
          height: auto;
          width: 100%;
          max-height: 85%;
        }

        .godparent-emoji {
          bottom: 6rem;
        }
      }

      @media (max-width: 340px) {
        .hero-title {
          font-size: 1.3rem;
          letter-spacing: 1px;
        }

        .section-title {
          font-size: 1.1rem;
        }

        .timeline-time {
          font-size: 0.95rem;
        }

        .timeline-desc {
          font-size: 0.9rem;
        }
      }

      @media (max-width: 700px) {
        .invitation-container { max-width: 80vw;}
        .hero-title { font-size: 1.45rem;}
      }
      @media (max-width: 600px) {
        .stories-gallery {max-width: 98vw;}
        .stories-photo-frame {max-width: 98vw; min-height:270px; padding-bottom:1.3em;}
        .stories-photo-frame img {height: 82%;}
      }
      @media (max-width: 550px) {
        .parent-card { max-width:99vw;}
      }
      @media (max-width: 400px) {
        .parent-card, .godparent-card-cute { padding:0.7rem;}
      }

      /* #endregion Main Section*/
    </style>
  </head>
  <body>
    <div class="container">
      <main role="main" class="w-100">
        <div id="player">
          <audio id="audio" src="#" data-replace="AudioUrl" loop></audio>
        </div>
        <span id="audioButton" class="_template-Audio-Button on off">
          <img src="#" data-replace="Image_AudioUrl" alt="Audio" />
        </span>
        <!-- Initial section -->
        <div class="hero-novios">
          <img src="#" data-replace="ImageMain" alt="Image Main">
          <div class="hero-title">¬°Nos casamos!<br>Camila &amp; Iv√°n</div>
        </div>
        <div class="invitation-container">
          <div class="_template-Counter-Section">
            <div id="countdown" class="_counter-Countdown">
              <div class="_counter-Timebox">
                <span id="days">0</span> D√≠as
              </div>
              <div class="_counter-Timebox">
                <span id="hours">0</span> Horas
              </div>
              <div class="_counter-Timebox">
                <span id="days">:</span> &nbsp;
              </div>
              <div class="_counter-Timebox">
                <span id="minutes">0</span> Minutos
              </div>
              <div class="_counter-Timebox">
                <span id="days">:</span> &nbsp;
              </div>
              <div class="_counter-Timebox">
                <span id="seconds">0</span> Segundos
              </div>
            </div>
          </div>

          <img src="https://images.vexels.com/media/users/3/127731/isolated/preview/2b70133359ee29fa8d69d5f5f4998e27-adorno-floral-linea-pin.png" class="floral-header" alt="Decoraci√≥n floral">

          <div class="section-title">Los Novios</div>
          <div class="couple-section">
            <div class="couple-card">
              <img src="https://i.pinimg.com/736x/06/84/c6/0684c6819cddf8a5c450c1fa83e64773.jpg" class="couple-photo" alt="Novio">
              <div class="couple-name">Camila Torres <br> &amp; <br> Iv√°n M√©ndez</div>
            </div>
          </div>

          <div class="section-title">Padres de la Novia</div>
          <div class="parents-section">
            <div class="parent-card">
              <img src="https://i.pinimg.com/736x/dd/b7/17/ddb71718c8daaac4b0111e4882d1627d.jpg" class="parent-photo-unique" alt="Padres novia">
              <div class="parent-title">Elena Garc√≠a &amp; Alfonso Torres</div>
            </div>
          </div>
          <div class="section-title">Padres del Novio</div>
          <div class="parents-section">
            <div class="parent-card">
              <img src="https://i.pinimg.com/736x/27/96/c5/2796c57f77bd7b9bc98d8475952f540a.jpg" class="parent-photo-unique" alt="Padres novio">
              <div class="parent-title">Ana Rodr√≠guez &amp; Carlos M√©ndez</div>
            </div>
          </div>

          <div class="godparents-section">
            <div class="section-title">Padrinos</div>
            <div class="godparents-list">
              <div class="godparent-card-cute">
                <img src="https://i.pinimg.com/736x/47/79/04/477904ac5fc3a09e840a78a202d12799.jpg" class="godparent-avatar" alt="Carlos Ram√≠rez">
                <div class="godparent-details-cute">
                  <div class="godparent-role-cute">Padrinos de Anillos<span class="godparent-emoji"></span></div>
                  <div class="godparent-names-cute">Carlos Ram√≠rez &amp; Sof√≠a Morales</div>
                </div>
              </div>
              <div class="godparent-card-cute">
                <img src="https://i.pinimg.com/736x/0c/14/c8/0c14c80f4d432162ef001bf381a62f65.jpg" class="godparent-avatar" alt="Marina D√≠az">
                <div class="godparent-details-cute">
                  <div class="godparent-role-cute">Padrinos de Lazo<span class="godparent-emoji"></span></div>
                  <div class="godparent-names-cute">Marina D√≠az &amp; Ra√∫l Romero</div>
                </div>
              </div>
              <div class="godparent-card-cute">
                <img src="https://i.pinimg.com/736x/84/8c/03/848c032a8fd4e5b9d9d23e7b8334351b.jpg" class="godparent-avatar" alt="Esteban Le√≥n">
                <div class="godparent-details-cute">
                  <div class="godparent-role-cute">Padrinos de Arras<span class="godparent-emoji"></span></div>
                  <div class="godparent-names-cute">Esteban Le√≥n &amp; Paula Sosa</div>
                </div>
              </div>
              <div class="godparent-card-cute">
                <img src="https://i.pinimg.com/736x/10/28/be/1028beba69d2b76da28f88e54435ef81.jpg" class="godparent-avatar" alt="Julio Vargas">
                <div class="godparent-details-cute">
                  <div class="godparent-role-cute">Biblia y Rosario<span class="godparent-emoji"></span></div>
                  <div class="godparent-names-cute">Julio Vargas &amp; Luc√≠a Pe√±a</div>
                </div>
              </div>
              <div class="godparent-card-cute">
                <img src="https://i.pinimg.com/736x/0a/cf/41/0acf41786bb22fc2002e54ccc42cfbb3.jpg" class="godparent-avatar" alt="Patricia Mu√±oz">
                <div class="godparent-details-cute">
                  <div class="godparent-role-cute">Brindis<span class="godparent-emoji"></span></div>
                  <div class="godparent-names-cute">Patricia Mu√±oz &amp; Daniel Ponce</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Timeline -->
          <div class="section-title">Itinerario</div>
          <section class="timeline-section">
            <div class="timeline">
              <div class="timeline-progress"></div>
              <div class="timeline-event">
                <span class="timeline-dot">
                  <svg viewBox="0 0 22 22" fill="none"><ellipse cx="7" cy="14" rx="5" ry="5" fill="#b07fcb" opacity="0.13"/><ellipse cx="15" cy="12.5" rx="4" ry="4.5" fill="#81b8df" opacity="0.12"/><path d="M6 14c0 1.1.9 2 2 2s2-.9 2-2a2 2 0 1 0-4 0z" fill="#b07fcb"/><path d="M14 12.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5a2.5 2.5 0 1 0-5 0z" fill="#81b8df"/><circle cx="7.8" cy="14" r="0.7" fill="#965a8d"/><circle cx="16.3" cy="13" r="0.5" fill="#3272a8"/></svg>
                </span>
                <div class="timeline-event-content">
                  <div class="timeline-time">16:00 hrs</div>
                  <div class="timeline-desc">Ceremonia religiosa</div>
                </div>
              </div>
              <div class="timeline-event">
                <span class="timeline-dot">
                  <svg viewBox="0 0 24 24"><path d="M12 21V9m0 0l-4 4M12 9l4 4" stroke="#b07fcb" stroke-width="1.6"/><circle cx="12" cy="7" r="3" fill="#f9a5b7"/><circle cx="8" cy="8" r="2" fill="#81b8df"/><circle cx="16" cy="8" r="2" fill="#b07fcb"/></svg>
                </span>
                <div class="timeline-event-content">
                  <div class="timeline-time">17:00 hrs</div>
                  <div class="timeline-desc">Sesi√≥n fotogr√°fica</div>
                </div>
              </div>
              <div class="timeline-event">
                <span class="timeline-dot">
                  <svg viewBox="0 0 22 22"><ellipse cx="11" cy="18" rx="6" ry="2.3" fill="#f9a5b7"/><rect x="5" y="11" width="12" height="7" rx="3.5" fill="#fff"/><rect x="7" y="14" width="8" height="3" rx="1.5" fill="#b07fcb"/><rect x="8.3" y="9" width="5.4" height="2" rx="1" fill="#81b8df"/><rect x="10.5" y="7" width="1" height="2" rx="0.5" fill="#f9a5b7"/></svg>
                </span>
                <div class="timeline-event-content">
                  <div class="timeline-time">18:00 hrs</div>
                  <div class="timeline-desc">Recepci√≥n</div>
                </div>
              </div>
              <div class="timeline-event">
                <span class="timeline-dot">
                  <svg viewBox="0 0 22 22"><ellipse cx="7" cy="11" rx="4" ry="5" fill="#f9a5b7"/><ellipse cx="15" cy="12.5" rx="3" ry="4.5" fill="#81b8df"/><ellipse cx="11" cy="10" rx="2" ry="3.5" fill="#b07fcb"/><path d="M7 16l1.5 3M15 17.5l-1 2" stroke="#b07fcb" stroke-width="1.1"/></svg>
                </span>
                <div class="timeline-event-content">
                  <div class="timeline-time">18:30 hrs</div>
                  <div class="timeline-desc">Cocktail</div>
                </div>
              </div>
              <div class="timeline-event">
                <span class="timeline-dot">
                  <svg viewBox="0 0 22 22"><path d="M7 17l3-7m5 7l-3-7" stroke="#81b8df" stroke-width="1.5"/><ellipse cx="7" cy="10" rx="2" ry="3" fill="#b07fcb"/><ellipse cx="15" cy="10" rx="2" ry="3" fill="#f9a5b7"/><ellipse cx="11" cy="10" rx="2" ry="3" fill="#81b8df"/><path d="M9 20h4" stroke="#b07fcb" stroke-width="1.5" stroke-linecap="round"/></svg>
                </span>
                <div class="timeline-event-content">
                  <div class="timeline-time">19:00 hrs</div>
                  <div class="timeline-desc">Banquete</div>
                </div>
              </div>
              <div class="timeline-event">
                <span class="timeline-dot">
                  <svg viewBox="0 0 22 22"><path d="M7 17l3-7m5 7l-3-7" stroke="#81b8df" stroke-width="1.5"/><ellipse cx="7" cy="10" rx="2" ry="3" fill="#b07fcb"/><ellipse cx="15" cy="10" rx="2" ry="3" fill="#f9a5b7"/><ellipse cx="11" cy="10" rx="2" ry="3" fill="#81b8df"/><path d="M9 20h4" stroke="#b07fcb" stroke-width="1.5" stroke-linecap="round"/></svg>
                </span>
                <div class="timeline-event-content">
                  <div class="timeline-time">20:00 hrs</div>
                  <div class="timeline-desc">Brindis</div>
                </div>
              </div>
              <div class="timeline-event">
                <span class="timeline-dot">
                  <svg viewBox="0 0 22 22"><path d="M7 17l3-7m5 7l-3-7" stroke="#81b8df" stroke-width="1.5"/><ellipse cx="7" cy="10" rx="2" ry="3" fill="#b07fcb"/><ellipse cx="15" cy="10" rx="2" ry="3" fill="#f9a5b7"/><ellipse cx="11" cy="10" rx="2" ry="3" fill="#81b8df"/><path d="M9 20h4" stroke="#b07fcb" stroke-width="1.5" stroke-linecap="round"/></svg>
                </span>
                <div class="timeline-event-content">
                  <div class="timeline-time">20:20 hrs</div>
                  <div class="timeline-desc">Baile</div>
                </div>
              </div>
            </div>
          </section>

          <!-- Gallery Instagram -->
          <div class="section-title">¬°Recuerdos bonitos!</div>
          <div class="gallery-section">
            <div class="stories-gallery">
              <div class="stories-progress"></div>
              <div class="stories-photo-frame">
                <div class="stories-caption" id="stories-caption"></div>
                <img id="stories-image" src="" alt="Historia">
              </div>
            </div>
          </div>

          <!-- Confirm -->
        </div>
      </main>
    </div>

    <script src="../js/main.js"></script>
    <script>
      requirejs(["jquery","helpers", "bs"],function($,helpers){
        const EventDate = new Date("2025-11-25T13:00:00");
        const EventReception = new Date("2025-11-25T17:00:00");
        const mainEvent = {
          Name: "",
          Date: EventDate,
          Description: `Acomp√°√±anos a celebrar nuestra uni√≥n `,      
          LocationDescription: "Sal√≥n de Eventos Quinta el Eden",
          Address: "C. Morelos 670, Gonz√°lez Ortega, 45190 Zapopan, Jal.",
          Father: "Jos√© Guti√©rrez",
          Mother: "Melissa Hurtado",
          GodFather: "Juan Fern√°ndez",
          GodMother: "Laura Jimenez",
          GoogleMapsUrl: "https://maps.app.goo.gl/1wwmTSk84XA8pLMn8",
          AmazonGiftTableUrl: "https://www.amazon.com.mx/",
          LiverpoolGiftTableUrl: "https://www.liverpool.com.mx/tienda/home",
          CollageImages: [],
          ImageMyParents: "https://img.freepik.com/fotos-premium/retrato-pareja-madura-feliz-abrazada-casa-conexion-amor-o-confianza-asociacion-juntos-cara-al-hombre-abrazar-mujer-compromiso-cuidado-relacion-saludable-apoyo-casa_590464-361056.jpg?ga=GA1.1.1993030682.1745256637&semt=ais_hybrid&w=740",
          ImageMyGodParents: "https://img.freepik.com/fotos-premium/pareja-dia-san-valentin_772250-159.jpg?ga=GA1.1.1993030682.1745256637&w=740",
          ImageDressCodeUrl: "https://img.freepik.com/foto-gratis/gente-elegante-bailando-tango_23-2149193458.jpg?ga=GA1.1.1993030682.1745256637&semt=ais_hybrid&w=740",
        };

        const secondaryEvent = {
          Date: EventReception,
          LocationDescription: "",
          Address: "",
          GoogleMapsUrl: "",
        };

        const googleCalendar = {
          Text: "Boda ",
          Location: mainEvent.Address,
          Detail : `
                    [0]
                üìç Lugar: [1]
                üïí Hora: [2]
                ‚è∞ Recordatorio: Llega con 30 minutos de anticipaci√≥n.
                ‚ú® ¬°Te esperamos para compartir este momento tan especial!`
        };

        const additionalInformation = {
          ImageBodyBackground: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1200&q=80",
          ImageCorner: "",
          ImageFrontCard: "",
          ImageMain: "https://i.pinimg.com/736x/76/86/8d/76868d470ea6cd8319f7958b92bde6d7.jpg",
          ImageTap: "",
          ImageLoading: "https://images.vexels.com/media/users/3/190566/isolated/preview/e20509414b44a4b9388e9309c50031d1-parejas-casadas-silueta-boda.png",
          AudioUrl: "../music/Perfect.mp3",
          WhatsAppUrl: "https://tinyurl.com/3h8kmam7",
        };

        const Resources = {
          MainEvent : mainEvent,
          SecondaryEvent: secondaryEvent,
          GoogleCalendar: Object.create(googleCalendar),
          AdditionalInformation : additionalInformation
        };

        function onLoad(){
          $("[data-replace=ImageMain]").attr("src", Resources.AdditionalInformation.ImageMain);
        };

        function Init() {
          helpers.init(Resources);
          helpers.onCounterStart(EventDate);
          setInterval(() => {
            helpers.onCounterStart(EventDate);
          }, 1000);
          helpers.onAudioPlayer();
          updateBodyBackground();
          onLoad();
        };
        Init();

        function updateBodyBackground() {
          const bgUrl = Resources.AdditionalInformation.ImageBodyBackground;
          let styleEl = document.getElementById('dynamicBodyBg');
          if (!styleEl) {
            styleEl = document.createElement('style');
            styleEl.id = 'dynamicBodyBg';
            document.head.appendChild(styleEl);
          }
          styleEl.innerHTML = `
            body::before {
              content: "";
              position: fixed;
              z-index: 0;
              top: 0; left: 0; right: 0; bottom: 0;
              background: url('${bgUrl}') center center/cover no-repeat;
              opacity: 0.16;
              filter: blur(3px) brightness(1.1);
              pointer-events: none;
            }
          `;
        };
      });
    </script>
    <script>
      requirejs(["jquery", "bs"],function($){
        const stories = [
          {
            img: "https://i.pinimg.com/736x/cc/fa/d5/ccfad55fa13f3126131e479f260c2c2a.jpg",
            caption: "El gran d√≠a"
          },
          {
            img: "https://i.pinimg.com/736x/02/0b/98/020b98b54441df5551e5c12b53761881.jpg",
            caption: "Momentos m√°gicos"
          },
          {
            img: "https://i.pinimg.com/736x/c1/b1/2d/c1b12d4787d714f18f3d92a849c7d1ae.jpg",
            caption: "Juntos siempre"
          },
          {
            img: "https://i.pinimg.com/736x/89/fb/d5/89fbd581a3f7c849d40a17abfec1a388.jpg",
            caption: "Nuestra aventura"
          },
          {
            img: "https://i.pinimg.com/736x/41/c4/8b/41c48b0902ac1716fc651fcbb78c496a.jpg",
            caption: "Diversi√≥n y amor"
          },
          {
            img: "https://i.pinimg.com/736x/30/35/57/303557688e3cd1ce15f6f66181bce236.jpg",
            caption: "Nuestro viaje"
          }
        ];

        let currentStory = 0;
        let progressBars = [];
        let progressFills = [];
        let timer = null;
        let storyStartTime = 0;
        let elapsedTime = 0;
        let isPaused = false;
        const intervalMs = 3200;
        let lastTransitionHandler = null;
        let isAdvancing = false;

        function animateTimeline() {
          const timeline = document.querySelector('.timeline');
          const progress = document.querySelector('.timeline-progress');
          const events = document.querySelectorAll('.timeline-event');
          const windowHeight = window.innerHeight;
          let lastVisibleIdx = -1;
          let closestIdx = -1;
          let closestDistance = Number.POSITIVE_INFINITY;
          events.forEach((event, idx) => {
            const rect = event.getBoundingClientRect();
            if (rect.top < windowHeight * 0.88) {
              event.classList.add('visible');
              lastVisibleIdx = idx;
              const dist = Math.abs(rect.top + rect.height/2 - windowHeight/2);
              if(dist < closestDistance){
                closestDistance = dist;
                closestIdx = idx;
              }
            } else {
              event.classList.remove('visible');
            }
            event.classList.remove('active');
          });
          if (closestIdx >= 0) events[closestIdx].classList.add('active');
          if (lastVisibleIdx >= 0) {
            const firstDot = events[0].querySelector('.timeline-dot');
            const lastDot = events[lastVisibleIdx].querySelector('.timeline-dot');
            const timelineRect = timeline.getBoundingClientRect();
            const firstDotRect = firstDot.getBoundingClientRect();
            const lastDotRect = lastDot.getBoundingClientRect();
            const offsetStart = firstDotRect.top + firstDotRect.height / 2 - timelineRect.top;
            const offsetEnd = lastDotRect.top + lastDotRect.height / 2 - timelineRect.top;
            const height = Math.max(0, offsetEnd - offsetStart);
            progress.style.top = offsetStart + "px";
            progress.style.height = height + "px";
          } else {
            progress.style.height = "0px";
          }
        };

        function setupStories() {
            const progressContainer = document.querySelector('.stories-progress');
            progressContainer.innerHTML = '';
            progressBars = [];
            progressFills = [];

            for (let i = 0; i < stories.length; i++) {
                const bar = document.createElement('div');
                bar.className = "stories-progress-bar";

                const fill = document.createElement('div');
                fill.className = "stories-progress-bar-fill";

                bar.appendChild(fill);
                progressContainer.appendChild(bar);

                progressBars.push(bar);
                progressFills.push(fill);
            }

            document.querySelector('.stories-photo-frame').onclick = function () {
                if (isAdvancing) return;
                isAdvancing = true;

                elapsedTime = 0;
                showStory(currentStory + 1, true);

                setTimeout(() => {
                    isAdvancing = false;
                }, 200);
            };
        };

        function showStory(idx, isTap) {
            if (idx >= stories.length) {
                idx = 0;
            }
            if (idx < 0) idx = stories.length - 1;

            elapsedTime = 0;
            storyStartTime = performance.now();

            currentStory = idx;
            document.getElementById('stories-image').src = stories[idx].img;
            document.getElementById('stories-caption').textContent = stories[idx].caption;

            progressFills.forEach((fill, i) => {
                if (lastTransitionHandler) {
                    fill.removeEventListener('transitionend', lastTransitionHandler);
                }
            });
            lastTransitionHandler = null;

            progressFills.forEach((fill, i) => {
                if (i < idx) {
                    fill.style.transition = 'none';
                    fill.style.width = '100%';
                } else if (i > idx) {
                    fill.style.transition = 'none';
                    fill.style.width = '0%';
                } else {
                    fill.style.transition = 'none';
                    fill.style.width = '0%';
                    void fill.offsetWidth;

                    const remainingTime = intervalMs;

                    fill.style.transition = `width ${remainingTime}ms linear`;
                    fill.style.width = '100%';

                    lastTransitionHandler = () => {
                        if (!isPaused) {
                            showStory(currentStory + 1, false);
                        }
                    };

                    fill.addEventListener('transitionend', lastTransitionHandler, { once: true });
                }
            });
        };

        function startStories() {
            if (progressFills.length === 0) return;

            if (timer == null && currentStory === 0 && progressFills[0].style.width === '0%') {
                showStory(0, false);
            }

            if (!timer) {
                const fill = progressFills[currentStory];
                const remainingTime = intervalMs - elapsedTime;

                fill.style.transition = `width ${remainingTime}ms linear`;
                fill.style.width = '100%';

                storyStartTime = performance.now() - elapsedTime;

                timer = setTimeout(() => {
                    timer = null;
                }, remainingTime);

                console.log('Stories reanudados');
            }
        };

        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (progressFills.length === 0) return;

                if (entry.isIntersecting) {
                    isPaused = false;
                    startStories();
                } else {
                    isPaused = true;
                    clearTimeout(timer);
                    timer = null;

                    elapsedTime = performance.now() - storyStartTime;

                    const fill = progressFills[currentStory];
                    const computedStyle = window.getComputedStyle(fill);
                    const width = computedStyle.getPropertyValue('width');
                    const parentWidth = fill.parentElement.offsetWidth;
                    const percent = (parseFloat(width) / parentWidth) * 100;

                    fill.style.transition = 'none';
                    fill.style.width = `${percent}%`;

                    console.log('Stories pausados en', percent.toFixed(1), '%');
                }
            });
        }, {
            threshold: 0.5
        });

        window.addEventListener('scroll', animateTimeline, {passive: true});
        window.addEventListener('load', animateTimeline);
        window.addEventListener('resize', animateTimeline);
        window.addEventListener('load', () => {
            setupStories();
            showStory(0, false);

            const storiesSection = document.querySelector('.gallery-section');
            observer.observe(storiesSection);
        });
      });
    </script>
  </body>
</html>