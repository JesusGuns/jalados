<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="https://png.pngtree.com/png-clipart/20231003/original/pngtree-star-cartoon-character-element-png-image_13246303.png">
    <title>Invitaci√≥n Baby Shower</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Font Awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../css/templates.css">
    <script src="../js/require.js"></script>
    <style>
      /* #region ROOT*/
      :root {
        --font-Primary: 'Indie Flower';
      }

      /* #endregion ROOT*/
      /* #region HTML*/
      body {
        font-family: var(--font-Primary);
        min-height: 100%;
        width: 100%;
        color: var(--color_Secondary);
      }

      /* #endregion HTML*/
      /* #region General*/
      img.location-maps {
        width: 25px;
        height: 25px;
        margin-top: -7px;
      }

      .subcontainer {
        background: rgba(255, 255, 255, 0.85);
        border-radius: 20px;
        padding: 2rem 2rem;
        width: 100%;
        max-width: 500px;
        text-align: center;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        animation: _animation-fade-in 1s ease-in-out;
      }

      .imgMain {
        width: 50%;
        animation: _animation-float 3s ease-in-out infinite;
      }

      .box {
        min-height: 10vh !important;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem 2rem;
      }

      h1 {
        font-size: 3rem;
        color: var(--color_Primary);
        margin-bottom: 1rem;
      }
      h1 span {
        color: var(--color_Tertiary);
      }

      .detail-box {
        min-height: 10vh !important;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem 2rem;
      }

      .detail-box-text {
        display: flex;
        flex-direction: column;
        gap: 2rem;
      }

      .block h3 {
        margin-bottom: 0.3rem;
        color: var(--color_Secondary);
      }

      .block p {
        margin: 0.2rem 0;
        font-size: 1.2rem;
      }

      .block a {
        color: var(--color_Primary);
        text-decoration: underline;
      }

      .confirm-attendance {
        min-height: 10vh !important;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem 2rem;
      }

      .detail-box h2,
      .confirm-attendance h2 {
        color: var(--color_Primary);
        margin-bottom: 1rem;
      }

      .clock {
        display: flex;
        justify-content: space-between;
        flex-wrap: nowrap;
        gap: 0.5rem;
        margin-top: 0.5rem;
      }
      .clock div {
        flex: 1;
        background: #ffffffcc;
        padding: 5px;
        border-radius: 10px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      }
      .clock span {
        font-size: 1.8rem;
        font-weight: bold;
        color: var(--color_Primary);
        display: block;
      }
      .clock small {
        font-size: 1rem;
        color: var(--color_Secondary);
      }

      .btn {
        display: inline-block;
        padding: 2rem 2rem;
        background-color: var(--color_Quaternary) !important;
        color: #090703 !important;
        text-decoration: none !important;
        border-radius: 30px;
        font-weight: bold;
        transition: transform 0.3s ease;
      }
      .btn:hover {
        transform: scale(1.05);
      }

      .confirm-attendance .mt {
        margin-top: 1rem;
      }

      .subcontainerbook {
        padding: 2rem 1.5rem;
        width: 100%;
        max-width: 500px;
        animation: _animation-fade-in 1s ease-in-out;
      }

      .bookTitle {
        background-color: white;
        box-shadow: 5px 0px 20px rgba(0, 0, 0, 0.2);
        border-radius: 50px;
        padding: 0.5rem 0.5rem;
        text-align: center;
        color: var(--color_Primary);
        margin-bottom: 1.5rem;
      }

      .book-wrapper {
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .book {
        width: 100%;
        max-width: 200px;
        aspect-ratio: 3 / 4;
        position: relative;
        perspective: 2000px;
        cursor: pointer;
      }

      .book::before {
        content: '';
        position: absolute;
        top: 0;
        left: 49%;
        width: 2%;
        height: 100%;
        background: radial-gradient(ellipse at center, rgba(0,0,0,0.1), transparent);
        z-index: 0;
      }

      .book.shifted {
        transform: translateX(50%);
        transition: transform 1s ease;
      }

      .page {
        position: absolute;
        width: 100%;
        height: 100%;
        transform-origin: left center;
        transform-style: preserve-3d;
        transition: transform 1s ease, box-shadow 1s ease;
        z-index: 100;
        box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
        border-radius: 50px;
      }

      .page::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to left, rgba(0,0,0,0.1), transparent);
        opacity: 0.3;
        pointer-events: none;
        z-index: 2;
        border-radius: 50px;
      }

      .page.flipped {
        transform: rotateY(-180deg) skewY(1deg);
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
        animation: _animation-reordenar 0s linear 1s forwards;
      }

      .page.flipped::before {
        background: linear-gradient(to right, rgba(0,0,0,0.1), transparent);
        opacity: 0.15;
      }

      .page.hide-back .back {
        opacity: 0;
        transition: opacity 0s ease;
      }

      .face {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        overflow: hidden;
        border-radius: 50px;
      }

      .face img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .back {
        background: white;
        transform: rotateY(180deg);
        pointer-events: none;
        opacity: 1;
        transition: opacity 0.5s ease 0.4s;
      }

      .back.hidden {
        opacity: 0;
        pointer-events: none;
      }

      .front {
        background: white;
        z-index: 3;
      }

      .imgTap {
        width: 3%;
        position: absolute;
        margin-top: 10rem;
        margin-left: 8rem;
      }

      .imgTap.shifted {
        transform: translateX(230%);
        transition: transform 1s ease;
      }

      .hidden {
        display: none;
      }
      .fade-in {
        animation: _animation-fade-in 4s ease-in-out;
      }

      #themeSwitcher {
        position: fixed;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 10px;
        background: white;
        padding: 10px;
        border-radius: 20px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        z-index: 999;
      }

      .theme-btn {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: none;
        cursor: pointer;
        transition: transform 0.3s;
      }

      .theme-btn:hover {
        transform: scale(1.2);
      }

      #themeOverlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 1);
        z-index: 2000;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-size: 1.7rem;
        font-weight: bold;
        color: var(--color_Primary, #333);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }

      #themeOverlay.active {
        opacity: 1;
        pointer-events: all;
      }

      .loader-img {
        width: 50%;
        height: 50%;
        object-fit: contain;
      }

      /* #endregion General*/
      /* #region TimeLine Section*/
      .subcontainerTimeline {
        border-radius: 20px;
        padding: 0rem 2rem;
        width: 100%;
        max-width: 500px;
        text-align: center;
        animation: _animation-fade-in 1s ease-in-out;
      }

      .subcontainerTimeline h2 {
        background-color: white;
        box-shadow: 5px 0px 20px rgba(0, 0, 0, 0.2);
        border-radius: 50px;
        padding: 0.5rem 0.5rem;
      }

      .timeline {
        position: relative;
        width: 100%;
      }

      .timeline::after {
        content: '';
        position: absolute;
        width: 4px;
        background-color: var(--color_Quaternary);
        top: 0;
        bottom: 0;
        left: 50%;
        margin-left: -2px;
      }

      .timeline .timeline-event {
        position: relative;
        width: 50%;
        background-color: inherit;
      }

      .timeline .timeline-event::after {
        content: '';
        position: absolute;
        width: 20px;
        height: 20px;
        right: -10px;
        background-color: var(--color_Primary);
        border: 4px solid #fff;
        top: 30px;
        border-radius: 50%;
        z-index: 1;
        animation: _animation-pulse-1 1s infinite;
      }

      .timeline .left {
        left: 0;
      }

      .timeline .right {
        left: 50%;
      }

      .timeline .right::after {
        left: -10px;
      }

      .timeline .content {
        padding: 20px 0px 20px 10px;
        background-color: white !important;
        position: relative;
        border-radius: 6px;
        box-shadow: 5px 0px 20px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .timeline .content .location-maps {
        width: 45px;
        animation: _animation-pulse-3 0.4s infinite;
        object-fit: cover;
        border-radius: 50%;
      }

      .timeline .content h3 {
        margin: 0;
        color: var(--color_Secondary);
        font-size: 1.2rem;
      }

      @media screen and (max-width: 768px) {
        .timeline::after {
          left: 20px;
        }

        .timeline .timeline-event {
          width: 100%;
          padding-left: 40px;
          padding-right: 10px;
          margin-bottom: 20px;
        }

        .timeline .timeline-event.left,
        .timeline .timeline-event.right {
          left: 0;
        }

        .timeline .timeline-event::after {
          left: 10px;
          right: auto;
        }

        .timeline .content {
          border-left: 4px solid var(--color_Quaternary);
        }

        .timeline .content .location-maps {
          width: 40px;
        }
      }

      @media (max-width: 575.98px) {
        .timeline .timeline-event {
          width: 100%;
          padding-top: 20px;
          padding-bottom: 0px;
          margin-bottom: 0px;
        }

        .timeline .content h3 {
          font-size: 1.2rem;
        }
      }

      @media (max-width: 375.98px) {
        .timeline .content {
          padding: 12px 5px;
        }

        .timeline .content h3 {
          font-size: 1.2rem;
        }
      }

      /* #endregion TimeLine Section*/
      /* #region Gift Section*/
      ._btn-brands {
        display: flex;
        justify-content: center;
        gap: 1rem;
        padding-top: 0rem;
        padding-bottom: 1rem;
      }

      ._btn-gift {
        border: 5px solid rgba(255, 255, 255, 0.1);
        background: rgb(255 255 255 / 0%);
        border-radius: 8px;
        box-shadow: 0 4px 6px 0 #ccc;
        color: var(--color_Secondary);
        cursor: pointer;
        font-family: var(--font-TenorSans);
        font-size: 1.2rem;
        padding: 10px;
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: flex-start;
      }

      ._btn-gift:hover {
         box-shadow: 0 2px 10px var(--color_Tertiary);
      }

      ._btn-gift a {
        width: 65px;
        margin-right: 1rem;
      }

      ._btn-gift img {
        width: 30px;
        margin-right: 1rem;
      }

      @media (max-width: 575.98px) {
        ._section-gifttable {
          display: flex;
          flex-direction: column;
          width: 100%;
          padding: 2rem 3rem;
        }

        ._section-gifttable p._details {
          font-size: 1rem;
        }

        ._btn-brands {
          flex-direction: column;
        }

        ._btn-gift {
          font-size: 1.2rem;
          font-weight: bold;
          padding: 5px 10px;
          width: 100%;
        }

        ._btn-gift img {
          width: 30px;
        }
      }

      @media (max-width: 375.98px) {
        ._btn-brands {
          padding-left: 1rem;
        }

        ._btn-gift {
          width: 90%;
        }
      }

      /* #endregion Gift Section*/
      /* #region Audio*/
      ._template-Audio-Button.on {
        filter: hue-rotate(var(--filter-AudioButton)) !important;
      }

      ._template-Audio-Button.off {
        filter: hue-rotate(var(--filter-AudioButton)) !important;
      }

      /* #endregion Audio*/
      /* #region Main Section*/
      @media (max-width: 575.98px) {
        .imgMain.themeBoy {
          width: 104%;
        }
        .imgMain.themeGirl {
          width: 101%;
        }
        .imgMain.themeNeutral {
          width: 101%;
        }
        .subcontainerbook {
          width: 63%;
        }
        .imgTap {
          width: 10%;
        }
        h1 {
          font-size: 2.3rem;
        }
      }

      @media (max-width: 375.98px) {
        .imgMain.themeBoy {
          width: 93%;
        }
        .imgMain.themeGirl {
          width: 90%;
        }
        .imgMain.themeNeutral {
          width: 90%;
        }
        h1 {
          font-size: 2.1rem;
        }
        .box {
          padding: 1.2rem 2rem;
        }
      }

      @media (max-width: 340px) {
        h1 {
          font-size: 1.5rem;
        }
      }

      @media (min-width: 600px) {
        .detail-box-text {
          flex-direction: row;
          justify-content: space-between;
        }
        .block {
          flex: 1;
        }
      }

      /* #endregion Main Section*/
    </style>
  </head>
  <body>
    <div class="container">
      <main role="main" class="w-100">
        <div id="player">
          <audio id="audio" src="#" data-replace="AudioUrl" loop></audio>
        </div>
        <span id="audioButton" class="_template-Audio-Button on off">
          <img src="#" data-replace="Image_AudioUrl" alt="Audio" />
        </span>
        <!-- Initial section -->
        <section class="box">
          <div class="subcontainer">
            <img class="imgMain" src="#" data-replace="ImageMain" alt="Image Main">
            <h1>¬°Est√°s invitado <br> al Baby Shower de <br> <span data-replace="EventName"></span>!</h1>
            <div class="mt">
              <h2>Faltan:</h2>
              <div id="countdown">
                <div class="clock">
                  <div class="time-box">
                    <span id="days">0</span> <small>D√≠as</small>
                  </div>
                  <div class="time-box">
                    <span id="hours">0</span> <small>Horas</small>
                  </div>
                  <div class="time-box">
                    <span id="minutes">0</span> <small>Minutos</small>
                  </div>
                  <div class="time-box">
                    <span id="seconds">0</span> <small>Segundos</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Event details section -->
        <section class="detail-box">
          <div class="subcontainer">
            <h2>Detalles del evento</h2>
            <div class="detail-box-text">
              <div class="block">
                <h3>Cu√°ndo <span>üóìÔ∏è</span></h3>
                <p><strong data-replace="EventDateString"></strong></p>
                <p data-replace="EventHourString"></p>

                <h3 class="mt">
                    D√≥nde
                  <a href="#" data-replace="MainEventUrl" target="_blank">
                    <img class="location-maps" src="#" data-replace="Image_GoogleLocation" alt="Google Location">
                  </a>
                </h3>
                <p data-replace="MainEventLocationDescription"></p>
                <p data-replace="MainEventAddress"></p>
              </div>
            </div>
          </div>
        </section>

        <!-- Timeline section -->
        <section class="detail-box">
          <div class="subcontainerTimeline">
            <h2>Itinerario</h2>
            <div class="timeline">
              <div class="timeline-event left">
                <div class="content">
                  <h3>
                    Recepci√≥n y bienvenida
                  </h3>
                </div>
              </div>
              <div class="timeline-event right">
                <div class="content">
                  <h3>
                    Juegos
                  </h3>
                </div>
              </div>
              <div class="timeline-event left">
                <div class="content">
                  <h3>Comida</h3>
                </div>
              </div>
              <div class="timeline-event right">
                <div class="content">
                  <h3>Apertura de regalos</h3>
                </div>
              </div>
              <div class="timeline-event left">
                <div class="content">
                  <h3>Sesi√≥n fotogr√°fica</h3>
                </div>
              </div>
              <div class="timeline-event right">
                <div class="content">
                  <h3>Agradecimiento y Cierre</h3>
                </div>
              </div>
            </div>
          </div>
        </section>
        
        <!-- Album book section -->
        <section class="box">
          <div class="subcontainerbook">
            <h2 class="bookTitle">Momentos ‚ú®</h2>
            <div class="book-wrapper">
              <div class="book" id="book"></div>
              <img class="imgTap" id="tapHint" src="#" data-replace="Image_Tap" alt="Tap tap">
            </div>
          </div>
        </section>

        <section class="detail-box">
          <div class="subcontainer _section-gifttable">
            <h2>Regalos</h2>
            <p> Para nosotros tu presencia es nuestro mejor regalo, pero si deseas hacernos llegar un obsequio, te sugerimos la siguiente opci√≥n: </p>
            <div class="_btn-brands">
              <a href="#" data-replace="EventAmazonGiftTableUrl" target="_blank" class="_btn-gift">
                <img src="#" data-replace="Image_AmazonUrl" /> Amazon </a>
              <a href="#" data-replace="EventLiverpoolGiftTableUrl" target="_blank" class="_btn-gift">
                <img src="#" data-replace="Image_LiverpoolUrl" /> Liverpool </a>
            </div>
          </div>
        </section>

        <!-- Final section to confirm attendance  -->
        <section class="confirm-attendance">
          <div class="subcontainer">
            <h2>¬øNos acompa√±as?</h2>
            <a href="#" data-replace="WhatsAppUrl" target="_blank" class="btn">
              <i class="fas fa-heart"></i>
              Asistir√©
            </a>
            <a href="#" data-replace="GoogleCalendarUrl" target="_blank" class="btn">
              <i class="fas fa-calendar"></i>
              Agendar
            </a>
          </div>
        </section>
      </main>
    </div>

    <div id="themeSwitcher">
      <button class="theme-btn" data-theme="themeBoy" style="background-color:#368ecf"></button>
      <button class="theme-btn" data-theme="themeGirl" style="background-color:#f06292"></button>
      <button class="theme-btn" data-theme="themeNeutral" style="background-color:#bfa058"></button>
    </div>

    <div id="themeOverlay">
      <img class="loader-img" src="#" data-replace="Image_Loading" alt="Loading">
      <span>Cambiando tema...</span>
    </div>

    <script src="../js/main.js"></script>
    <script>
      requirejs(["jquery","helpers"],function($,helpers){
        const EventDate = new Date("2025-11-25T17:00:00");
        const EventReception = new Date("2025-11-25T17:00:00");
        const mainEvent = {
          Name: "",
          Date: EventDate,
          Description: `Acomp√°√±anos a celebrar el Baby Shower de `,      
          LocationDescription: "Sal√≥n de Eventos Quinta el Eden",
          Address: "C. Morelos 670, Gonz√°lez Ortega, 45190 Zapopan, Jal.",
          Father: "Jos√© Guti√©rrez",
          Mother: "Melissa Hurtado",
          GodFather: "Juan Fern√°ndez",
          GodMother: "Laura Jimenez",
          GoogleMapsUrl: "https://maps.app.goo.gl/1wwmTSk84XA8pLMn8",
          AmazonGiftTableUrl: "https://www.amazon.com.mx/",
          LiverpoolGiftTableUrl: "https://www.liverpool.com.mx/tienda/home",
          CollageImages: [
            'https://img.freepik.com/vector-premium/es-invitacion-baby-shower-nino-mono-azul-plantilla-tarjeta-felicitacion-bebe-recien-nacido_647688-40.jpg',
            'https://img.freepik.com/foto-gratis/mujer-embarazada-foto-su-futuro-bebe_1391-1419.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
            'https://img.freepik.com/fotos-premium/feliz-pareja-embarazada-buscando-imagen-ultrasonido-su-bebe-nacer-aislado-fondo-azul_530697-83805.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
            'https://img.freepik.com/foto-gratis/dos-manos-forma-corazon-estomago-madre-embarazada_181624-6985.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
            'https://img.freepik.com/foto-gratis/mujer-embarazada-marido-zapatos-bebe_23-2147793312.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
            'https://img.freepik.com/foto-gratis/imagen-ultrasonido-mujer-embarazada-cosas-bebe-madre-esta-esperando-bebe_169016-27477.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740'
          ],
          CollageImages2: [
            'https://img.freepik.com/foto-gratis/mujer-embarazada-sujetando-corazon-mientras-toca-barriga_1220-849.jpg',
            'https://img.freepik.com/fotos-premium/mujer-embarazada-sosteniendo-zapatillas-blancas-bebe-cerca-vientre-embarazada-concepto-familiar_1272242-393.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
            'https://img.freepik.com/fotos-premium/manos-mujer-embarazada-primer-corazon-forman-su-panza_38678-4724.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
            'https://img.freepik.com/fotos-premium/vientre-mujer-embarazada-primer-plano-vientre-mujer-embarazada_176445-10619.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
            'https://img.freepik.com/foto-gratis/vista-frontal-mujer-embarazada-sosteniendo-su-vientre_23-2148352222.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740'
          ],
          ImageMyParents: "https://img.freepik.com/fotos-premium/retrato-pareja-madura-feliz-abrazada-casa-conexion-amor-o-confianza-asociacion-juntos-cara-al-hombre-abrazar-mujer-compromiso-cuidado-relacion-saludable-apoyo-casa_590464-361056.jpg?ga=GA1.1.1993030682.1745256637&semt=ais_hybrid&w=740",
          ImageMyGodParents: "https://img.freepik.com/fotos-premium/pareja-dia-san-valentin_772250-159.jpg?ga=GA1.1.1993030682.1745256637&w=740",
          ImageDressCodeUrl: "https://img.freepik.com/foto-gratis/gente-elegante-bailando-tango_23-2149193458.jpg?ga=GA1.1.1993030682.1745256637&semt=ais_hybrid&w=740",
        };

        const secondaryEvent = {
          Date: EventReception,
          LocationDescription: "",
          Address: "",
          GoogleMapsUrl: "",
        };

        const googleCalendar = {
          Text: "Baby Shower ",
          Location: mainEvent.Address,
          Detail : `
                    [0]
                üìç Lugar: [1]
                üïí Hora: [2]
                ‚è∞ Recordatorio: Llega con 30 minutos de anticipaci√≥n.
                ‚ú® ¬°Te esperamos para compartir este momento tan especial!`
        };

        const additionalInformation = {
          ImageBodyBackground: "",
          ImageCorner: "",
          ImageFrontCard: "",
          ImageMain: "",
          ImageTap: "https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExNWZ1MW80dTVkMzFrcXoxeG41OHo5NmdiemdvbnE5NW9seW1heXA5YiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/TPiig5QAVogA1po38k/giphy.gif",
          ImageLoading: "https://www.boredpanda.es/blog/wp-content/uploads/2016/07/gifs-totoro-ejercicio-cl-terry-6.gif",
          AudioUrl: "../music/Here Comes The Sun.mp3",
          WhatsAppUrl: "https://tinyurl.com/3h8kmam7",
        };

        const Resources = {
          MainEvent : mainEvent,
          SecondaryEvent: secondaryEvent,
          GoogleCalendar: Object.create(googleCalendar),
          AdditionalInformation : additionalInformation
        };

        function onLoad(){
          $('body').css('background-image', 'url("' + Resources.AdditionalInformation.ImageBodyBackground + '")');
          $("[data-replace=ImageMain]").attr("src", Resources.AdditionalInformation.ImageMain);
          $("[data-replace=Image_Tap]").attr("src", Resources.AdditionalInformation.ImageTap);
          $("[data-replace=Image_Loading]").attr("src", Resources.AdditionalInformation.ImageLoading);
        };

        const book = document.getElementById('book');
        const flipSound = document.getElementById('flipSound');
        const tapHint = document.getElementById('tapHint');
        const totalPages = Resources.MainEvent.CollageImages.length;
        const Themes = {
          themeBoy: {
            '--color_Primary': '#368ecf',
            '--color_Secondary': '#6d4c41',
            '--color_Tertiary': '#ff6f61',
            '--color_Quaternary': '#99d5f06b',
            '--filter-AudioButton': '278deg',
            ImageBodyBackground: "https://www.transparenttextures.com/patterns/stardust.png",
            ImageMain: "https://i.etsystatic.com/41935531/r/il/22c68d/4904539325/il_570xN.4904539325_el50.jpg",
            ImageCoverPage: "https://img.freepik.com/vector-premium/es-invitacion-baby-shower-nino-mono-azul-plantilla-tarjeta-felicitacion-bebe-recien-nacido_647688-40.jpg",
            Name: 'Thomas'
          },
          themeGirl: {
            '--color_Primary': '#f06292bd',
            '--color_Secondary': '#ad1457',
            '--color_Tertiary': '#e91e63',
            '--color_Quaternary': '#fce4ec',
            '--filter-AudioButton': '395deg',
            ImageBodyBackground: "https://www.transparenttextures.com/patterns/stardust.png",
            ImageMain: "https://png.pngtree.com/png-clipart/20240301/original/pngtree-cute-unicorn-cartoon-on-heart-cloud-for-valentine-s-day-kawaii-png-image_14459513.png",
            ImageCoverPage: "https://img.freepik.com/vector-premium/es-invitacion-baby-shower-nina-letras_187548-622.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740",
            Name: 'Valentina'
          },
          themeNeutral: {
            '--color_Primary': '#bfa058a8',
            '--color_Secondary': '#7e6d4d',
            '--color_Tertiary': '#957d4a',
            '--color_Quaternary': '#fff9c4',
            '--filter-AudioButton': '120deg',
            ImageBodyBackground: "https://www.transparenttextures.com/patterns/food.png",
            ImageMain: "https://i.pinimg.com/736x/31/35/4b/31354bcf4b1212f56ce992d4cb87dd20.jpg",
            ImageCoverPage: "https://img.freepik.com/vector-premium/tarjeta-felicitacion-dibujos-animados-su-tarjeta-nino-diseno-volantes-tarjeta-salud-cartel-cartel_506530-4301.jpg",
            Name: 'Aitana y Alex'
          }
        };
        
        function generateBook() {
          let currentPage = 0;

          $('#book').empty();

          const pages = [];
          const flipTimeouts = new Array(totalPages).fill(null);

          Resources.MainEvent.CollageImages.forEach((img, i) => {
            const page = document.createElement('div');
            page.className = 'page';
            page.style.zIndex = totalPages - i;

            const backImg = Resources.MainEvent.CollageImages2[i] || '';

            page.innerHTML = `
              <div class="face front"><img src="${img}" alt="Frente ${i + 1}" /></div>
              <div class="face back"><img src="${backImg}" alt="Reverso ${i + 1}" /></div>
            `;

            pages.push(page);

            page.addEventListener('click', () => {
              if (i !== currentPage) return;

              page.classList.add('flipped');
              if (flipSound) {
                flipSound.currentTime = 0;
                flipSound.play();
              }

              currentPage++;
              const esUltima = (currentPage == totalPages);
              if (esUltima) {
                currentPage = 0;

                pages.forEach((p, idx) => {
                  p.style.zIndex = totalPages - idx;
                });
              }

              if (!esUltima) {
                if (flipTimeouts[i] !== null) {
                  clearTimeout(flipTimeouts[i]);
                }
                flipTimeouts[i] = setTimeout(() => {
                  if (page.classList.contains('flipped')) {
                    page.style.zIndex = i;
                  }
                  flipTimeouts[i] = null;
                }, 300);
              }

              if (i == 0) {
                book.classList.add('shifted');
                tapHint.classList.add('hidden');
                tapHint.classList.remove('shifted');
              }

              if (esUltima) {
                for (let j = totalPages - 1; j >= 0; j--) {
                  const delay = (totalPages - 1 - j) * 400;
                  const p = pages[j];

                  setTimeout(() => {
                    p.style.zIndex = totalPages - j;
                    void p.offsetHeight;
                    p.classList.remove('flipped');
                    if (flipTimeouts[j] !== null) {
                      clearTimeout(flipTimeouts[j]);
                      flipTimeouts[j] = null;
                    }
                  }, delay);
                }

                const totalDelay = (totalPages - 1) * 400 + 750;
                setTimeout(() => {
                  book.style.transition = 'transform 1s ease';
                  book.classList.remove('shifted');
                  setTimeout(() => {
                    tapHint.classList.add('fade-in');
                    tapHint.classList.remove('hidden');
                  }, 1500);
                }, totalDelay);
              }
            });

            book.appendChild(page);
          });
        };

        function applyTheme(themeName) {
          const theme = Themes[themeName];

          const imgMain = document.querySelector('.imgMain');
          imgMain.classList.remove('themeBoy', 'themeGirl', 'themeNeutral');
          imgMain.classList.add(`${themeName}`);

          $("#audioButton").addClass("off");

          tapHint.classList.remove("hidden");
          
          book.classList.remove('shifted');
          $('#book').empty();

          for (let variable in theme) {
            if (variable.startsWith('--')) {
              document.documentElement.style.setProperty(variable, theme[variable]);
            } else {
              if (variable == 'ImageBodyBackground') {
                Resources.AdditionalInformation.ImageBodyBackground = theme[variable];
              } else if (variable == 'ImageMain') {
                Resources.AdditionalInformation.ImageMain = theme[variable];
              } else if (variable == 'Name') {
                Resources.MainEvent.Name = theme[variable];
              } else if (variable == 'ImageCoverPage') {
                Resources.MainEvent.CollageImages[0] = theme[variable];
              }
            }
          }

          const imgs = JSON.parse(JSON.stringify(Resources.MainEvent.CollageImages));
          const imgs2 = JSON.parse(JSON.stringify(Resources.MainEvent.CollageImages2));

          Resources.GoogleCalendar = Object.create(googleCalendar);
          onLoad();
          helpers.init(Resources);
          Resources.MainEvent.CollageImages = imgs;
          Resources.MainEvent.CollageImages2 = imgs2;

          generateBook();
        };

        $('.theme-btn').on('click', function () {
          const theme = $(this).data('theme');
          $('#themeOverlay').addClass('active');

          setTimeout(() => {
            applyTheme(theme);
            window.scrollTo({ top: 0, behavior: 'smooth' });
            setTimeout(() => {
              $('#themeOverlay').removeClass('active');
            }, 2000);
          }, 500);
        });

        function Init() {
          helpers.init(Resources);
          helpers.onCounterStart(EventDate);
          setInterval(() => {
            helpers.onCounterStart(EventDate);
          }, 1000);
          helpers.onAudioPlayer();
          generateBook();
          applyTheme('themeBoy');
        };
        Init();

      });
    </script>
  </body>
</html>