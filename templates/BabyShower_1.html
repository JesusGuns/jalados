<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="https://png.pngtree.com/png-clipart/20231003/original/pngtree-star-cartoon-character-element-png-image_13246303.png">
    <title>Invitaci√≥n Baby Shower</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Font Awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">
    <style>
      /* #region ROOT*/
      :root {
        --font-Primary: 'Indie Flower';
      }

      /* #endregion ROOT*/
      /* #region HTML*/
      html {
        font-size: 14px;
      }

      @media (min-width: 768px) {
        html {
          font-size: 16px;
        }
      }

      html {
        position: relative;
        min-height: 100%;
      }

      body {
        font-family: var(--font-Primary);
        min-height: 100%;
        width: 100%;
        color: var(--color_Secondary);
      }

      .subcontainer {
        background: rgba(255, 255, 255, 0.85);
        border-radius: 20px;
        padding: 2rem 2rem;
        width: 100%;
        max-width: 500px;
        text-align: center;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        animation: _animation-fade-in 1s ease-in-out;
      }

      .imgMain {
        width: 50%;
        animation: _animation-float 3s ease-in-out infinite;
      }

      .box {
        min-height: 10vh !important;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem 2rem;
      }

      h1 {
        font-size: 3rem;
        color: var(--color_Primary);
        margin-bottom: 1rem;
      }
      h1 span {
        color: var(--color_Tertiary);
      }

      .detail-box {
        min-height: 10vh !important;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem 2rem;
      }

      .detail-box-text {
        display: flex;
        flex-direction: column;
        gap: 2rem;
      }

      .block h3 {
        margin-bottom: 0.3rem;
        color: var(--color_Secondary);
      }

      .block p {
        margin: 0.2rem 0;
        font-size: 1.2rem;
      }

      .block a {
        color: var(--color_Primary);
        text-decoration: underline;
      }

      .confirm-attendance {
        min-height: 10vh !important;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem 2rem;
      }

      .detail-box h2,
      .confirm-attendance h2 {
        color: var(--color_Primary);
        margin-bottom: 1rem;
      }

      .clock {
        display: flex;
        justify-content: space-between;
        flex-wrap: nowrap;
        gap: 0.5rem;
        margin-top: 0.5rem;
      }
      .clock div {
        flex: 1;
        background: #ffffffcc;
        padding: 5px;
        border-radius: 10px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      }
      .clock span {
        font-size: 1.8rem;
        font-weight: bold;
        color: var(--color_Primary);
        display: block;
      }
      .clock small {
        font-size: 1rem;
        color: var(--color_Secondary);
      }

      .btn {
        display: inline-block;
        padding: 2rem 2rem;
        background-color: var(--color_Quaternary);
        text-decoration: none;
        border-radius: 30px;
        font-weight: bold;
        transition: transform 0.3s ease;
      }
      .btn:hover {
        transform: scale(1.05);
      }

      .confirm-attendance .mt {
        margin-top: 1rem;
      }

      .subcontainerbook {
        padding: 2rem 1.5rem;
        width: 100%;
        max-width: 500px;
        animation: _animation-fade-in 1s ease-in-out;
      }

      .book-wrapper {
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .book {
        width: 100%;
        max-width: 200px;
        aspect-ratio: 3 / 4;
        position: relative;
        perspective: 2000px;
        cursor: pointer;
      }

      .book::before {
        content: '';
        position: absolute;
        top: 0;
        left: 49%;
        width: 2%;
        height: 100%;
        background: radial-gradient(ellipse at center, rgba(0,0,0,0.1), transparent);
        z-index: 0;
      }

      .book.shifted {
        transform: translateX(50%);
        transition: transform 1s ease;
      }

      .page {
        position: absolute;
        width: 100%;
        height: 100%;
        transform-origin: left center;
        transform-style: preserve-3d;
        transition: transform 1s ease, box-shadow 1s ease;
        z-index: 100;
        box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
        border-radius: 50px;
      }

      .page::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to left, rgba(0,0,0,0.1), transparent);
        opacity: 0.3;
        pointer-events: none;
        z-index: 2;
        border-radius: 50px;
      }

      .page.flipped {
        transform: rotateY(-180deg) skewY(1deg);
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
        animation: _animation-reordenar 0s linear 1s forwards;
      }

      .page.flipped::before {
        background: linear-gradient(to right, rgba(0,0,0,0.1), transparent);
        opacity: 0.15;
      }

      .page.hide-back .back {
        opacity: 0;
        transition: opacity 0s ease;
      }

      .face {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        overflow: hidden;
        border-radius: 50px;
      }

      .face img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .back {
        background: white;
        transform: rotateY(180deg);
        pointer-events: none;
        opacity: 1;
        transition: opacity 0.5s ease 0.4s;
      }

      .back.hidden {
        opacity: 0;
        pointer-events: none;
      }

      .front {
        background: white;
        z-index: 3;
      }

      .imgTap {
        width: 3%;
        position: absolute;
        margin-top: 10rem;
        margin-left: 8rem;
      }

      .imgTap.shifted {
        transform: translateX(230%);
        transition: transform 1s ease;
      }

      .hidden {
        display: none;
      }
      .fade-in {
        animation: _animation-fade-in 4s ease-in-out;
      }

      .location-maps {
        width: 25px;
        animation: _animation-pulse-3 0.4s infinite;
        object-fit: cover;
        border-radius: 50%;
      }

      #themeSwitcher {
        position: fixed;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 10px;
        background: white;
        padding: 10px;
        border-radius: 20px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        z-index: 999;
      }

      .theme-btn {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: none;
        cursor: pointer;
        transition: transform 0.3s;
      }

      .theme-btn:hover {
        transform: scale(1.2);
      }

      #themeOverlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.9);
        z-index: 2000;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 2rem;
        font-weight: bold;
        color: var(--color_Primary, #333);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }

      #themeOverlay.active {
        opacity: 1;
        pointer-events: all;
      }


      @media (max-width: 575.98px) {
        .container {
          margin: 0;
          padding: 0;
        }
      }

      /* #endregion HTML*/
      /* #region Animations*/
      @keyframes _animation-vibrate {
        0% {
          transform: translate(0);
        }

        25% {
          transform: translate(-1px, 1px);
        }

        50% {
          transform: translate(1px, -1px);
        }

        75% {
          transform: translate(-1px, -1px);
        }

        100% {
          transform: translate(1px, 1px);
        }
      }

      @keyframes _animation-shake {
        0% {
          transform: translateX(0);
        }

        15% {
          transform: translateX(-5px);
        }

        30% {
          transform: translateX(5px);
        }

        45% {
          transform: translateX(-4px);
        }

        60% {
          transform: translateX(4px);
        }

        75% {
          transform: translateX(-2px);
        }

        90% {
          transform: translateX(2px);
        }

        100% {
          transform: translateX(0);
        }
      }

      @keyframes _animation-heartbeat {
        0% {
          transform: scale(1);
        }

        30% {
          transform: scale(1.3);
        }

        50% {
          transform: scale(1);
        }

        70% {
          transform: scale(1.2);
        }

        100% {
          transform: scale(1);
        }
      }

      @keyframes _animation-pulse-1 {
        0% {
          transform: scale(1);
        }

        50% {
          transform: scale(1.1);
        }

        100% {
          transform: scale(1);
        }
      }

      @keyframes _animation-pulse-2 {
        0% {
          transform: scale(1);
        }

        50% {
          transform: scale(1.03);
        }

        100% {
          transform: scale(1);
        }
      }

      @keyframes _animation-pulse-3 {
        0% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(199, 123, 145, 0.4);
        }

        70% {
          transform: scale(1.05);
          box-shadow: 0 0 0 10px rgba(199, 123, 145, 0);
        }

        100% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(199, 123, 145, 0);
        }
      }

      @keyframes _animation-fade-in {
        from {
          opacity: 0.7;
          transform: scale(0.95);
        }

        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes _animation-bounceIn {
        0% {
          opacity: 0;
          transform: scale(0.3);
        }

        50% {
          opacity: 1;
          transform: scale(1.05);
        }

        70% {
          transform: scale(0.9);
        }

        100% {
          transform: scale(1);
        }
      }

      @keyframes _animation-surprise-Bounce {
        0% {
          transform: scale(0.3);
          opacity: 0;
        }

        60% {
          transform: scale(1.2);
          opacity: 1;
        }

        80% {
          transform: scale(0.95);
        }

        100% {
          transform: scale(1);
        }
      }

      @keyframes _animation-hide-Fade-Shrink {
        0% {
          opacity: 1;
          transform: scale(1);
        }

        100% {
          opacity: 0;
          transform: scale(0.8);
        }
      }

      @keyframes _animation-float {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes _animation-reordenar {
        to {
          z-index: 0;
        }
      }

      /* #endregion Animations*/
      /* #region General*/
      @media (max-width: 575.98px) {
       
      }
      /* #endregion General*/
      /* #region Audio*/
      #audioButton {
        filter: hue-rotate(var(--filter-AudioButton));
        animation: _animation-pulse-1 1.5s infinite;
        position: fixed;
        right: 1%;
        top: 11%;
        z-index: 3;
      }

      #audioButton.off {
        animation: _animation-vibrate 0.4s infinite;
      }

      #audioButton img {
        width: 45px;
        cursor: pointer;
      }

      @media (max-width: 575.98px) {
        #audioButton {
          top: 15%;
        }

        #audioButton img {
          width: 40px;
        }
      }

      /* #endregion Audio*/
      /* #region Counter*/
     

      @media (max-width: 575.98px) {
       
      }

      @media (max-width: 375.98px) {
       
      }

      /* #endregion Counter*/
      /* #region Main Section*/
      @media (max-width: 767.98px) {

      }

      @media (max-width: 575.98px) {
        .imgMain.themeBoy {
          width: 78.5%;
        }
        .imgMain.themeGirl {
          width: 101%;
        }
        .imgMain.themeNeutral {
          width: 101%;
        }
        .subcontainerbook {
          width: 63%;
        }
        .imgTap {
          width: 10%;
        }
        h1 {
          font-size: 2.3rem;
        }
      }

      @media (max-width: 375.98px) {
        .imgMain.themeBoy {
          width: 70%;
        }
        .imgMain.themeGirl {
          width: 90%;
        }
        .imgMain.themeNeutral {
          width: 90%;
        }
        h1 {
          font-size: 2.1rem;
        }
        .box {
          padding: 1.2rem 2rem;
        }
      }

      @media (max-width: 340px) {
        h1 {
          font-size: 1.5rem;
        }
      }

      @media (min-width: 600px) {
        .detail-box-text {
          flex-direction: row;
          justify-content: space-between;
        }
        .block {
          flex: 1;
        }
      }

      /* #endregion Main Section*/

    </style>
  </head>
  <body>
    <div class="container">
      <main role="main" class="w-100">
        <div id="player">
          <audio id="audio" src="#" data-replace="AudioUrl" loop></audio>
        </div>
        <span id="audioButton" class="off">
          <img src="#" data-replace="Image_AudioUrl" alt="Audio" />
        </span>
        <!-- Initial section -->
        <section class="box">
          <div class="subcontainer">
            <img class="imgMain" src="#" data-replace="Image_Main" alt="Pocoy√≥ saludando">
            <h1>¬°Est√°s invitado <br> al Baby Shower de <br> <span data-replace="EventName"></span>!</h1>
            <div class="mt">
              <h2>Faltan:</h2>
              <div id="countdown">
                <div class="clock">
                  <div class="time-box">
                    <span id="days">0</span> <small>D√≠as</small>
                  </div>
                  <div class="time-box">
                    <span id="hours">0</span> <small>Horas</small>
                  </div>
                  <div class="time-box">
                    <span id="minutes">0</span> <small>Minutos</small>
                  </div>
                  <div class="time-box">
                    <span id="seconds">0</span> <small>Segundos</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Event details section -->
        <section class="detail-box">
          <div class="subcontainer">
            <h2>Detalles del evento</h2>
            <div class="detail-box-text">
              <div class="block">
                <h3>Cu√°ndo <span>üóìÔ∏è</span></h3>
                <p><strong data-replace="EventDateString"></strong></p>
                <p>Desde <span data-replace="EventReceptionHourString"></span></p>

                <h3 class="mt">
                    D√≥nde
                  <a href="#" data-replace="EventReceptionUrl" target="_blank">
                    <img class="location-maps" src="#" data-replace="Image_GoogleLocation" alt="Google Location">
                  </a>
                </h3>
                <p data-replace="GoogleCalendarLocation"></p>
              </div>
            </div>
          </div>
        </section>
        
        <!-- Album book section -->
        <section class="box">
          <div class="subcontainerbook">
            <div class="book-wrapper">
              <div class="book" id="book"></div>
              <img class="imgTap" id="tapHint" src="#" data-replace="Image_Tap" alt="Tap tap">
            </div>
          </div>
        </section>

        <!-- Final section to confirm attendance  -->
        <section class="confirm-attendance">
          <div class="subcontainer">
            <h2>¬øNos acompa√±as?</h2>
            <a href="#" data-replace="WhatsAppUrl" target="_blank" class="btn">
              <i class="fas fa-heart"></i>
              Asistir√©
            </a>
            <a href="#" data-replace="GoogleCalendarUrl" target="_blank" class="btn">
              <i class="fas fa-calendar"></i>
              Agendar
            </a>
          </div>
        </section>
      </main>
    </div>

    <div id="themeSwitcher">
      <button class="theme-btn" data-theme="themeBoy" style="background-color:#368ecf"></button>
      <button class="theme-btn" data-theme="themeGirl" style="background-color:#f06292"></button>
      <button class="theme-btn" data-theme="themeNeutral" style="background-color:#bfa058"></button>
    </div>

    <div id="themeOverlay">
      <span>Cargando...</span>
    </div>

    <!-- Bootstrap JS Bundle (con soporte touch incluido) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      var actions = {
        onCounter: function() {
          const now = new Date().getTime();
          const distance = EventDate - now;
          const days = Math.floor(distance / (1000 * 60 * 60 * 24));
          const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((distance % (1000 * 60)) / 1000);
          $("#days").text(actions.onHelperAddDigits(days));
          $("#hours").text(actions.onHelperAddDigits(hours));
          $("#minutes").text(actions.onHelperAddDigits(minutes));
          $("#seconds").text(actions.onHelperAddDigits(seconds));
          if (distance < 0) {
            clearInterval(interval);
            $("countdown").innerHTML = "¬°Ha llegado el gran d√≠a!";
          }
        },
        onHelperAddDigits: function(number) {
          if (number.toString().length == 1) {
            return "0" + number.toString();
          }
          return number;
        },
        onAudioPlayer: function() {
          const audio = document.getElementById("audio");
          $("#audioButton").on("click", function() {
            if (audio.paused) {
              audio.play();
              $("#audioButton").removeClass("off");
            } else {
              audio.pause();
              $("#audioButton").addClass("off");
            }
          });
        },
      };
      var helpers = {
        onGetDateYYYYMMDD: function() {
          const format = (f) => f.toISOString().split("T")[0].replace(/-/g, "");
          return format(EventDate);
        },
        onGetDateString: function(EventDate, includeDayName) {
          const months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
          const days = ["Domingo", "Lunes", "Martes", "Mi√©rcoles", "Jueves", "Viernes", "S√°bado"];
          const day = EventDate.getDate();
          const dayOfWeek = EventDate.getDay();
          const dayName = days[dayOfWeek];
          const month = months[EventDate.getMonth()];
          const year = EventDate.getFullYear();
          const dateString = includeDayName ? `${dayName} ${day} de ${month} del ${year}` : `${day} de ${month} del ${year}`;
          return dateString;
        },
        onGetHoursString: function(EventDate, includeThe) {
          let hours = EventDate.getHours();
          const ampm = hours >= 12 ? "p.m." : "a.m.";
          const mins = EventDate.getMinutes().toString().padStart(2, "0");
          const the = hours > 1 ? "las " : "la";
          hours = hours % 12 || 12;
          const hourString = includeThe ? `${the} ${hours}:${mins} ${ampm}` : `${hours}:${mins} ${ampm}`;
          return hourString;
        },
        onGoogleCalendar: function() {
          const base = 'https://calendar.google.com/calendar/render';
          const details = `Acomp√°√±anos a celebrar el Baby Shower de ${Resources.EventName}.
          üìç Lugar: ${Resources.GoogleCalendarLocation}
          üïí Hora: ${Resources.EventHourString}
          ‚è∞ Recordatorio: Llega con 30 minutos de anticipaci√≥n.
          ‚ú® ¬°Te esperamos para compartir este momento tan especial!`;
          const params = new URLSearchParams({
            action: "TEMPLATE",
            text: `${Resources.GoogleCalendarTitle} de ${Resources.EventName}`,
            dates: `${Resources.GoogleCalendarStartDate}/${Resources.GoogleCalendarEndDate}`,
            details: details,
            location: Resources.GoogleCalendarLocation
          });
          return `${base}?${params.toString()}`;
        },
        onLoad: function() {
          $('body').css('background-image', 'url("' + Resources.Image_BodyBackground + '")');
          $("[data-replace=Image_AudioUrl]").attr("src", Resources.Image_AudioUrl);
          $("[data-replace=AudioUrl]").attr("src", Resources.AudioUrl);
          $("[data-replace=EventDateString]").text(Resources.EventDateString);
          $("[data-replace=EventHourString]").text(Resources.EventHourString);
          $("[data-replace=EventReceptionHourString]").text(Resources.EventReceptionHourString);
          $("[data-replace=EventName]").text(Resources.EventName);
          $("[data-replace=EventReceptionUrl]").attr("href", Resources.EventReceptionUrl);
          $("[data-replace=Image_GoogleLocation]").attr("src", Resources.Image_GoogleLocation);
          $("[data-replace=Image_Main]").attr("src", Resources.Image_Main);
          $("[data-replace=Image_Tap]").attr("src", Resources.Image_Tap);
          $("[data-replace=WhatsAppUrl]").attr("href", Resources.WhatsAppUrl);
          $("[data-replace=GoogleCalendarUrl]").attr("href", helpers.onGoogleCalendar());
          $("[data-replace=GoogleCalendarLocation]").text(Resources.GoogleCalendarLocation);
        }
      };
      const EventDate = new Date("2025-11-25T13:00:00");
      const EventReception = new Date("2025-11-25T17:00:00");
      const Resources = {
        EventDate: EventDate,
        EventTime: EventDate.getTime(),
        EventDateString: helpers.onGetDateString(EventDate),
        EventHourString: helpers.onGetHoursString(EventDate),
        EventReceptionHourString: helpers.onGetHoursString(EventReception, true),
        EventName: "",
        EventFather: "Jos√© Guti√©rrez",
        EventMother: "Melissa Hurtado",
        EventGodFather: "Juan Fern√°ndez",
        EventGodMother: "Laura Jimenez",
        EventChurchUrl: "https://maps.app.goo.gl/hBdb191LiXzkPRfR8",
        EventReceptionUrl: "https://maps.app.goo.gl/1wwmTSk84XA8pLMn8",
        EventAmazonGiftTableUrl: "https://www.amazon.com.mx/",
        EventLiverpoolGiftTableUrl: "https://www.liverpool.com.mx/tienda/home",
        GoogleCalendarTitle: "Baby Shower",
        GoogleCalendarStartDate: helpers.onGetDateYYYYMMDD(),
        GoogleCalendarEndDate: helpers.onGetDateYYYYMMDD(),
        GoogleCalendarLocation: "Sal√≥n Azul Calle Principal 123",
        Image_BodyBackground: "",
        Image_FrontCard: "https://img.freepik.com/foto-gratis/mujer-tiro-medio-caminando-calle_23-2148703161.jpg?ga=GA1.1.1993030682.1745256637&semt=ais_hybrid&w=740",
        Image_AudioUrl: "https://cdn-icons-png.freepik.com/512/13896/13896624.png?ga=GA1.1.1993030682.1745256637",
        Image_Corner: "",
        Image_MyParents: "https://img.freepik.com/fotos-premium/retrato-pareja-madura-feliz-abrazada-casa-conexion-amor-o-confianza-asociacion-juntos-cara-al-hombre-abrazar-mujer-compromiso-cuidado-relacion-saludable-apoyo-casa_590464-361056.jpg?ga=GA1.1.1993030682.1745256637&semt=ais_hybrid&w=740",
        Image_MyGodParents: "https://img.freepik.com/fotos-premium/pareja-dia-san-valentin_772250-159.jpg?ga=GA1.1.1993030682.1745256637&w=740",
        Image_DressCodeUrl: "https://img.freepik.com/foto-gratis/gente-elegante-bailando-tango_23-2149193458.jpg?ga=GA1.1.1993030682.1745256637&semt=ais_hybrid&w=740",
        Image_AmazonUrl: "https://static-00.iconduck.com/assets.00/amazon-icon-2048x2048-pqt2fe18.png",
        Image_LiverpoolUrl: "https://play-lh.googleusercontent.com/FwrxfHaknUKLneazGpPsjJvQ4mUYKJkccj-efHNeXQISwCwqC9ymNAnqlAY5J5oHIOc",
        Image_GoogleLocation: "https://img.icons8.com/?size=512&id=DcygmpZqBEd9&format=png",
        Image_Main: "",
        Image_Tap: "https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExNWZ1MW80dTVkMzFrcXoxeG41OHo5NmdiemdvbnE5NW9seW1heXA5YiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/TPiig5QAVogA1po38k/giphy.gif",
        AudioUrl: "https://invitameok.com/invitaciones/admin/imagenes/26931/MUSICAdont-start-now-traducida-al-espanol%20(mp3cut.net).mp3",
        WhatsAppUrl: "https://tinyurl.com/3h8kmam7",
        CollageImages: [
          'https://img.freepik.com/vector-premium/es-invitacion-baby-shower-nino-mono-azul-plantilla-tarjeta-felicitacion-bebe-recien-nacido_647688-40.jpg',
          'https://img.freepik.com/foto-gratis/mujer-embarazada-foto-su-futuro-bebe_1391-1419.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
          'https://img.freepik.com/fotos-premium/feliz-pareja-embarazada-buscando-imagen-ultrasonido-su-bebe-nacer-aislado-fondo-azul_530697-83805.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
          'https://img.freepik.com/foto-gratis/dos-manos-forma-corazon-estomago-madre-embarazada_181624-6985.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
          'https://img.freepik.com/foto-gratis/mujer-embarazada-marido-zapatos-bebe_23-2147793312.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
          'https://img.freepik.com/foto-gratis/imagen-ultrasonido-mujer-embarazada-cosas-bebe-madre-esta-esperando-bebe_169016-27477.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740'
        ],
        CollageImages2: [
          'https://img.freepik.com/foto-gratis/mujer-embarazada-sujetando-corazon-mientras-toca-barriga_1220-849.jpg',
          'https://img.freepik.com/fotos-premium/mujer-embarazada-sosteniendo-zapatillas-blancas-bebe-cerca-vientre-embarazada-concepto-familiar_1272242-393.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
          'https://img.freepik.com/fotos-premium/manos-mujer-embarazada-primer-corazon-forman-su-panza_38678-4724.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
          'https://img.freepik.com/fotos-premium/vientre-mujer-embarazada-primer-plano-vientre-mujer-embarazada_176445-10619.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740',
          'https://img.freepik.com/foto-gratis/vista-frontal-mujer-embarazada-sosteniendo-su-vientre_23-2148352222.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740'
        ]
      };
      const book = document.getElementById('book');
      const flipSound = document.getElementById('flipSound');
      const tapHint = document.getElementById('tapHint');
      const totalPages = Resources.CollageImages.length;
      const Themes = {
        themeBoy: {
          '--color_Primary': '#368ecf',
          '--color_Secondary': '#6d4c41',
          '--color_Tertiary': '#ff6f61',
          '--color_Quaternary': '#fdd835',
          '--filter-AudioButton': '278deg',
          Image_BodyBackground: "url('https://www.transparenttextures.com/patterns/stardust.png')",
          Image_Main: "https://i.pinimg.com/736x/99/4d/fc/994dfc98f317551a8ba112f105d6058a.jpg",
          Image_CoverPage: "https://img.freepik.com/vector-premium/es-invitacion-baby-shower-nino-mono-azul-plantilla-tarjeta-felicitacion-bebe-recien-nacido_647688-40.jpg",
          EventName: 'Thomas'
        },
        themeGirl: {
          '--color_Primary': '#f06292',
          '--color_Secondary': '#ad1457',
          '--color_Tertiary': '#e91e63',
          '--color_Quaternary': '#fce4ec',
          '--filter-AudioButton': '395deg',
          Image_BodyBackground: "url('https://www.transparenttextures.com/patterns/stardust.png')",
          Image_Main: "https://png.pngtree.com/png-clipart/20240301/original/pngtree-cute-unicorn-cartoon-on-heart-cloud-for-valentine-s-day-kawaii-png-image_14459513.png",
          Image_CoverPage: "https://img.freepik.com/vector-premium/es-invitacion-baby-shower-nina-letras_187548-622.jpg?ga=GA1.1.376195781.1747703452&semt=ais_hybrid&w=740",
          EventName: 'Valentina'
        },
        themeNeutral: {
          '--color_Primary': '#bfa058',
          '--color_Secondary': '#7e6d4d',
          '--color_Tertiary': '#dec58f',
          '--color_Quaternary': '#fff9c4',
          '--filter-AudioButton': '120deg',
          Image_BodyBackground: "url('https://www.transparenttextures.com/patterns/food.png')",
          Image_Main: "https://i.gifer.com/4JzY.gif",
          Image_CoverPage: "https://img.freepik.com/vector-premium/tarjeta-felicitacion-dibujos-animados-su-tarjeta-nino-diseno-volantes-tarjeta-salud-cartel-cartel_506530-4301.jpg",
          EventName: 'Alex y Alice'
        }
      };

      function Init() {
        helpers.onLoad();
        actions.onCounter();
        setInterval(() => {
          actions.onCounter();
        }, 1000);
        actions.onAudioPlayer();
        generateBook();
        applyTheme('themeBoy');
      };

      Init();

      function generateBook() {
        let currentPage = 0;
        let isFlipping = false;
        let tempBackCover = null;

        Resources.CollageImages.forEach((img, i) => {
          const page = document.createElement('div');
          page.className = 'page';
          page.style.zIndex = Resources.CollageImages.length - i;

          const backImg = Resources.CollageImages2[i] || '';

          page.innerHTML = `
            <div class="face front"><img src="${img}" alt="Frente ${i + 1}" /></div>
            <div class="face back"><img src="${backImg}" alt="Reverso ${i + 1}" /></div>
          `;

          page.addEventListener('click', () => {
            if (i === currentPage && !isFlipping) {
              isFlipping = true;

              page.classList.add('flipped');
              currentPage++;

              if (currentPage === 1) {
                book.classList.add('shifted');
                if (currentPage === 1 && tapHint) {
                  // tapHint.classList.add("shifted");
                  tapHint.classList.add("hidden");
                  tapHint.classList.remove("shifted");
                }
              }

              if (flipSound) {
                flipSound.currentTime = 0;
                flipSound.play();
              }

              // Block clicks while rotating
              // setTimeout(() => {
                isFlipping = false;
              // }, 1000); // equal to the turning time

              // Automatic closing at the end
              if (currentPage === totalPages) {
                const allPages = Array.from(document.querySelectorAll('.page')).reverse();

                allPages.forEach((page, index) => {
                  setTimeout(() => {
                    page.classList.remove('flipped');
                  }, index * 400); // time between each sheet
                });

                // Restart after turning everything over
                const totalDelay = (allPages.length - 1) * 400 + 750;
                setTimeout(() => {
                  currentPage = 0;
                  book.style.transition = 'transform 1s ease';
                  book.classList.remove('shifted');
                  setTimeout(() => {
                    if (tapHint) {
                      tapHint.classList.add("fade-in");
                      tapHint.classList.remove("hidden");
                    }
                  }, 1500);
                }, totalDelay);
              }
            }
          });

          book.appendChild(page);
        });
      };

      function applyTheme(themeName) {
        const theme = Themes[themeName];

        const imgMain = document.querySelector('.imgMain');
        imgMain.classList.remove('themeBoy', 'themeGirl', 'themeNeutral');
        imgMain.classList.add(`${themeName}`);

        for (let variable in theme) {
          if (variable.startsWith('--')) {
            document.documentElement.style.setProperty(variable, theme[variable]);
          } else {
            if (variable === 'Image_BodyBackground') {
              document.body.style.backgroundImage = theme[variable];
            } else if (variable === 'Image_Main') {
              $("[data-replace=Image_Main]").attr("src", theme[variable]);
            } else if (variable === 'EventName') {
              $("[data-replace=EventName]").text(theme[variable]);
              Resources.EventName = theme[variable];
            } else if (variable === 'Image_CoverPage') {
              Resources.CollageImages[0] = theme[variable];
            }
          }
        }

        book.classList.remove('shifted');
        $('#book').empty();

        $("[data-replace=GoogleCalendarUrl]").attr("href", helpers.onGoogleCalendar());

        generateBook();
      };

      $('.theme-btn').on('click', function () {
        const theme = $(this).data('theme');
        $('#themeOverlay').addClass('active');

        setTimeout(() => {
          window.scrollTo({ top: 0, behavior: 'smooth' });
          applyTheme(theme);
          setTimeout(() => {
            $('#themeOverlay').removeClass('active');
          }, 500);
        }, 2000);
      });
    </script>
  </body>
</html>